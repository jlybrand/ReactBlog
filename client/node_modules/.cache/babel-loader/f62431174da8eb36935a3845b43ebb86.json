{"ast":null,"code":"// import axios from \"axios\";\n// import { useLocation } from \"react-router\";\n// import { useContext, useEffect, useState } from \"react\";\n// import { Context } from \"../../context/Context\";\n// import { Link } from \"react-router-dom\";\n// import \"./singlepost.css\";\n// export default function SinglePost() {\n//   const publicFolder = \"http://localhost:5000/images/\";\n//   const location = useLocation()\n//   const path = location.pathname.split('/')[2];\n//   const [post, setPost] = useState({});\n//   const { user } = useContext(Context);\n//   const [title, setTitle] = useState(\"\");\n//   const [desc, setDesc] = useState(\"\");\n//   // const [postBody, setPostBody] = useState(\"\");\n//   const [updateMode, setUpdateMode] = useState(false);\n//   useEffect(() => {\n//     const getPost = async () => {\n//       const res = await axios.get(\"/posts/\" + path);\n//       setPost(res.data);\n//       setTitle(res.data.title);\n//       setDesc(res.data.desc);\n//       // setPostBody(res.data.postBody);\n//     };\n//     getPost();\n//   }, [path]);\n//   const handleDelete = async (e) => {\n//     try {\n//       await axios.delete(`/posts/${post._id}`, {\n//         data: { username: user.username },\n//       });\n//       window.location.replace(\"/\");\n//     } catch (error) { }\n//   };\n//   const handleUpdate = async () => {\n//     try {\n//       await axios.put(`/posts/${post._id}`, {\n//         username: user.username,\n//         title,\n//         desc,\n//         // postBody,\n//       });\n//       setUpdateMode(false);\n//     } catch (error) { }\n//   };\n//   return (\n//     <div className=\"single-post\">\n//       <div className=\"single-post-wrap\">\n//         {post.photo && (\n//           <img\n//             src={`${publicFolder}${post.photo}`}\n//             alt=\"\"\n//             className=\"single-post-img\"\n//           />\n//         )}\n//         {updateMode ? (\n//           <input\n//             type=\"text\"\n//             value={title}\n//             className=\"single-post-title-input\"\n//             autoFocus\n//             onChange={(e) => setTitle(e.target.value)}\n//           />\n//         ) : (\n//           <h1 className=\"single-post-title\">\n//             {title}\n//             {post.username === user?.username && (\n//               <div className=\"post-edit-container\">\n//                 <i\n//                   className=\"edit-icon far fa-edit\"\n//                   onClick={(e) => setUpdateMode(true)}\n//                 >\n//                 </i>\n//                 <i\n//                   className=\"edit-icon fa-regular fa-trash-can\"\n//                   onClick={handleDelete}\n//                 >\n//                 </i>\n//               </div>\n//             )}\n//           </h1>\n//         )}\n//         <div className=\"post-info\">\n//           <span className=\"author\">\n//             Author:\n//             <Link to={`/?user=${post.username}`} className=\"link\">\n//               <b> {post.username}</b>\n//             </Link>\n//           </span>\n//           <span>{new Date(post.createdAt).toDateString()}</span>\n//         </div>\n//         {updateMode ? (\n//           <textarea\n//             className=\"single-post-input\"\n//             value={desc}\n//             autoFocus\n//             onChange={(e) => setDesc(e.target.value)}\n//           />\n//         ) : (\n//           <p className=\"single-post-description\">{desc}</p>\n//         )}\n//         {/* {updateMode ? (\n//           <textarea\n//             className=\"single-post-input\"\n//             value={postBody}\n//             autoFocus\n//             onChange={(e) => setPostBody(e.target.value)}\n//           />\n//         ) : (\n//           <p className=\"single-post-pody\">{postBody}</p>\n//         )} */}\n//         {\n//           (updateMode && (\n//             <button className=\"post-bttn\" onClick={handleUpdate}>\n//               Update\n//             </button>\n//           ))\n//         }\n//       </div>\n//     </div>\n//   );\n// }","map":{"version":3,"sources":["/home/jason/Desktop/Projects/ReactProjects/blog-site/client/src/components/singlepost/SinglePost.jsx"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","sourcesContent":["// import axios from \"axios\";\n// import { useLocation } from \"react-router\";\n// import { useContext, useEffect, useState } from \"react\";\n// import { Context } from \"../../context/Context\";\n// import { Link } from \"react-router-dom\";\n// import \"./singlepost.css\";\n\n// export default function SinglePost() {\n//   const publicFolder = \"http://localhost:5000/images/\";\n//   const location = useLocation()\n//   const path = location.pathname.split('/')[2];\n//   const [post, setPost] = useState({});\n//   const { user } = useContext(Context);\n//   const [title, setTitle] = useState(\"\");\n//   const [desc, setDesc] = useState(\"\");\n//   // const [postBody, setPostBody] = useState(\"\");\n//   const [updateMode, setUpdateMode] = useState(false);\n\n//   useEffect(() => {\n//     const getPost = async () => {\n//       const res = await axios.get(\"/posts/\" + path);\n//       setPost(res.data);\n//       setTitle(res.data.title);\n//       setDesc(res.data.desc);\n//       // setPostBody(res.data.postBody);\n\n//     };\n\n//     getPost();\n//   }, [path]);\n\n//   const handleDelete = async (e) => {\n//     try {\n//       await axios.delete(`/posts/${post._id}`, {\n//         data: { username: user.username },\n//       });\n\n//       window.location.replace(\"/\");\n\n//     } catch (error) { }\n//   };\n\n//   const handleUpdate = async () => {\n//     try {\n//       await axios.put(`/posts/${post._id}`, {\n//         username: user.username,\n//         title,\n//         desc,\n//         // postBody,\n//       });\n\n//       setUpdateMode(false);\n\n//     } catch (error) { }\n//   };\n\n//   return (\n//     <div className=\"single-post\">\n//       <div className=\"single-post-wrap\">\n//         {post.photo && (\n//           <img\n//             src={`${publicFolder}${post.photo}`}\n//             alt=\"\"\n//             className=\"single-post-img\"\n//           />\n//         )}\n//         {updateMode ? (\n//           <input\n//             type=\"text\"\n//             value={title}\n//             className=\"single-post-title-input\"\n//             autoFocus\n//             onChange={(e) => setTitle(e.target.value)}\n//           />\n//         ) : (\n//           <h1 className=\"single-post-title\">\n//             {title}\n//             {post.username === user?.username && (\n//               <div className=\"post-edit-container\">\n//                 <i\n//                   className=\"edit-icon far fa-edit\"\n//                   onClick={(e) => setUpdateMode(true)}\n//                 >\n//                 </i>\n//                 <i\n//                   className=\"edit-icon fa-regular fa-trash-can\"\n//                   onClick={handleDelete}\n//                 >\n//                 </i>\n//               </div>\n//             )}\n//           </h1>\n//         )}\n\n//         <div className=\"post-info\">\n//           <span className=\"author\">\n//             Author:\n//             <Link to={`/?user=${post.username}`} className=\"link\">\n//               <b> {post.username}</b>\n//             </Link>\n//           </span>\n//           <span>{new Date(post.createdAt).toDateString()}</span>\n//         </div>\n//         {updateMode ? (\n//           <textarea\n//             className=\"single-post-input\"\n//             value={desc}\n//             autoFocus\n//             onChange={(e) => setDesc(e.target.value)}\n//           />\n\n//         ) : (\n//           <p className=\"single-post-description\">{desc}</p>\n//         )}\n\n//         {/* {updateMode ? (\n//           <textarea\n//             className=\"single-post-input\"\n//             value={postBody}\n//             autoFocus\n//             onChange={(e) => setPostBody(e.target.value)}\n//           />\n\n//         ) : (\n//           <p className=\"single-post-pody\">{postBody}</p>\n//         )} */}\n\n//         {\n//           (updateMode && (\n//             <button className=\"post-bttn\" onClick={handleUpdate}>\n//               Update\n//             </button>\n//           ))\n//         }\n//       </div>\n//     </div>\n//   );\n// }\n\n\n"]},"metadata":{},"sourceType":"module"}